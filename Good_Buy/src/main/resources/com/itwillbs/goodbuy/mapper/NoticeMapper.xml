<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwillbs.goodbuy.mapper.NoticeMapper">
	<select id="getNoticeList" resultType="notice">
		SELECT NOTICE_SUBJECT
			 , NOTICE_DATE
			 , MEM_ID
		  FROM NOTICE
	</select>
	
	<insert id="insertNotice">
		<selectKey keyProperty="notice_id" resultType="int" order="BEFORE" >
		SELECT IFNULL(MAX(NOTICE_ID), 0)
		  FROM NOTICE
		</selectKey>
		INSERT
		  INTO NOTICE
		VALUES (
			   #{notice_id} + 1
			 , #{mem_id}
			 , #{notice_subject}
			 , #{notice_content}
			 , NOW()
			 , #{notice_file}
			 , 0
		)
	</insert>
</mapper>